{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst {\n  actions,\n  reducer\n} = createSlice({\n  name: \"cart\",\n  initialState: {\n    value: []\n  },\n  reducers: {\n    incCart(state, {\n      payload\n    }) {\n      let index = state.value.findIndex(el => el._id === payload._id);\n      if (index < 0) {\n        state.value = [...state.value, {\n          ...payload,\n          quantity: 1\n        }];\n      } else {\n        state.value = state.value.map((item, inx) => {\n          if (inx === index) {\n            return {\n              ...item,\n              quantity: item.quantity + 1\n            };\n          } else {\n            return item;\n          }\n        });\n      }\n    },\n    decCart() {},\n    remove() {},\n    removeAllCart() {}\n  }\n});\nexport const {\n  incCart\n} = actions;\nexport default reducer;","map":{"version":3,"names":["createSlice","actions","reducer","name","initialState","value","reducers","incCart","state","payload","index","findIndex","el","_id","quantity","map","item","inx","decCart","remove","removeAllCart"],"sources":["F:/react.js/lesson001/src/context/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst { actions, reducer } = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    value: [],\r\n  },\r\n\r\n  reducers: {\r\n    incCart(state, { payload }) {\r\n      let index = state.value.findIndex((el) => el._id === payload._id);\r\n      if (index < 0) {\r\n        state.value = [...state.value, { ...payload, quantity: 1 }];\r\n      } else {\r\n        state.value = state.value.map((item, inx) => {\r\n          if (inx === index) {\r\n            return { ...item, quantity: item.quantity + 1 };\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    decCart() {},\r\n    remove() {},\r\n    removeAllCart() {},\r\n  },\r\n});\r\n\r\nexport const { incCart } = actions;\r\nexport default reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAM;EAAEC,OAAO;EAAEC;AAAQ,CAAC,GAAGF,WAAW,CAAC;EACvCG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,KAAK,EAAE;EACT,CAAC;EAEDC,QAAQ,EAAE;IACRC,OAAOA,CAACC,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MAC1B,IAAIC,KAAK,GAAGF,KAAK,CAACH,KAAK,CAACM,SAAS,CAAEC,EAAE,IAAKA,EAAE,CAACC,GAAG,KAAKJ,OAAO,CAACI,GAAG,CAAC;MACjE,IAAIH,KAAK,GAAG,CAAC,EAAE;QACbF,KAAK,CAACH,KAAK,GAAG,CAAC,GAAGG,KAAK,CAACH,KAAK,EAAE;UAAE,GAAGI,OAAO;UAAEK,QAAQ,EAAE;QAAE,CAAC,CAAC;MAC7D,CAAC,MAAM;QACLN,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACH,KAAK,CAACU,GAAG,CAAC,CAACC,IAAI,EAAEC,GAAG,KAAK;UAC3C,IAAIA,GAAG,KAAKP,KAAK,EAAE;YACjB,OAAO;cAAE,GAAGM,IAAI;cAAEF,QAAQ,EAAEE,IAAI,CAACF,QAAQ,GAAG;YAAE,CAAC;UACjD,CAAC,MAAM;YACL,OAAOE,IAAI;UACb;QACF,CAAC,CAAC;MACJ;IACF,CAAC;IACDE,OAAOA,CAAA,EAAG,CAAC,CAAC;IACZC,MAAMA,CAAA,EAAG,CAAC,CAAC;IACXC,aAAaA,CAAA,EAAG,CAAC;EACnB;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEb;AAAQ,CAAC,GAAGN,OAAO;AAClC,eAAeC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}